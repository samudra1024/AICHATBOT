// Emergency keywords detection
const emergencyKeywords = {
  english: [
    'emergency', 'urgent', 'chest pain', 'heart attack', 'stroke', 'cardiac arrest',
    'accident', 'bleeding', 'unconscious', 'not breathing', 'seizure', 'convulsion',
    'severe pain', 'blood', 'injury', 'trauma', 'critical', 'dying', 'death',
    'can\'t breathe', 'choking', 'overdose', 'poisoning', 'burn', 'fire',
    'broken bone', 'fracture', 'head injury', 'spinal injury', 'paralyzed',
    'suicide', 'self harm', 'violence', 'assault', 'rape', 'abuse'
  ],
  hindi: [
    'рдЖрдкрд╛рддрдХрд╛рд▓', 'рдЧрдВрднреАрд░', 'рджрд░реНрдж', 'рджрд┐рд▓ рдХрд╛ рджреМрд░рд╛', 'рд╣рд╛рд░реНрдЯ рдЕрдЯреИрдХ', 'рд╕реНрдЯреНрд░реЛрдХ',
    'рджреБрд░реНрдШрдЯрдирд╛', 'рдЦреВрди', 'рдмреЗрд╣реЛрд╢', 'рд╕рд╛рдВрд╕ рдирд╣реАрдВ', 'рджреМрд░рд╛', 'рдЧрдВрднреАрд░ рджрд░реНрдж',
    'рдЪреЛрдЯ', 'рдШрд╛рдпрд▓', 'рдорд░ рд░рд╣рд╛', 'рдореМрдд', 'рдЬрд╣рд░', 'рдЬрд▓рдирд╛', 'рд╣рдбреНрдбреА рдЯреВрдЯреА',
    'рд╕рд┐рд░ рдХреА рдЪреЛрдЯ', 'рдЖрддреНрдорд╣рддреНрдпрд╛', 'рд╣рд┐рдВрд╕рд╛'
  ],
  tamil: [
    'роЕро╡роЪро░роорпН', 'ро╡ро▓ро┐', 'рооро╛ро░роЯрпИрокрпНрокрпБ', 'рокроХрпНроХро╡ро╛родроорпН', 'ро╡ро┐рокродрпНродрпБ', 'роЗро░родрпНродроорпН',
    'рооропроХрпНроХроорпН', 'роорпВроЪрпНроЪрпБ', 'ро╡ро▓ро┐рокрпНрокрпБ', 'роХроЯрпБроорпИропро╛рой ро╡ро▓ро┐', 'роХро╛ропроорпН',
    'роЗро▒роХрпНроХро┐ро▒рпЗройрпН', 'рооро░рогроорпН', 'ро╡ро┐ро╖роорпН', 'родрпАроХрпНроХро╛ропроорпН', 'роОро▓рпБроорпНрокрпБ роорпБро▒ро┐ро╡рпБ',
    'родро▓рпИропро┐ро▓рпН роЕроЯро┐', 'родро▒рпНроХрпКро▓рпИ', 'ро╡ройрпНроорпБро▒рпИ'
  ],
  telugu: [
    'р░Ер░др▒Нр░пр░╡р░╕р░░', 'р░ир▒Кр░кр▒Нр░кр░┐', 'р░Чр▒Бр░Вр░бр▒Жр░кр▒Лр░Яр▒Б', 'р░╕р▒Нр░Яр▒Нр░░р▒Лр░Хр▒Н', 'р░кр▒Нр░░р░ор░╛р░жр░В', 'р░░р░Хр▒Нр░др░В',
    'р░Ер░кр░╕р▒Нр░ор░╛р░░р░Х', 'р░Кр░кр░┐р░░р░┐', 'р░ор▒Вр░░р▒Нр░Ы', 'р░др▒Ар░╡р▒Нр░░р░ор▒Ир░и р░ир▒Кр░кр▒Нр░кр░┐', 'р░Чр░╛р░пр░В',
    'р░Ър░ир░┐р░кр▒Лр░др▒Бр░ир▒Нр░ир░╛р░ир▒Б', 'р░ор░░р░гр░В', 'р░╡р░┐р░╖р░В', 'р░Хр░╛р░▓р░┐р░и р░Чр░╛р░пр░В', 'р░Ор░ор▒Бр░Х р░╡р░┐р░░р░┐р░Чр░┐р░Вр░жр░┐',
    'р░др░▓ р░Чр░╛р░пр░В', 'р░Жр░др▒Нр░ор░╣р░др▒Нр░п', 'р░╣р░┐р░Вр░╕'
  ],
  bengali: [
    'ржЬрж░рзБрж░рзА', 'ржмрзНржпржерж╛', 'рж╣рж╛рж░рзНржЯ ржЕрзНржпрж╛ржЯрж╛ржХ', 'рж╕рзНржЯрзНрж░рзЛржХ', 'ржжрзБрж░рзНржШржЯржирж╛', 'рж░ржХрзНржд',
    'ржЕржЬрзНржЮрж╛ржи', 'рж╢рзНржмрж╛рж╕', 'ржЦрж┐ржБржЪрзБржирж┐', 'рждрзАржмрзНрж░ ржмрзНржпржерж╛', 'ржЖржШрж╛ржд',
    'ржорж░рзЗ ржпрж╛ржЪрзНржЫрж┐', 'ржорзГрждрзНржпрзБ', 'ржмрж┐рж╖', 'ржкрзЛржбрж╝рж╛', 'рж╣рж╛ржбрж╝ ржнрж╛ржЩрж╛',
    'ржорж╛ржерж╛ржпрж╝ ржЖржШрж╛ржд', 'ржЖрждрзНmahрждрзНржпрж╛', 'рж╕рж╣рж┐ржВрж╕рждрж╛'
  ],
  marathi: [
    'рдЖрдкрддреНрдХрд╛рд▓реАрди', 'рд╡реЗрджрдирд╛', 'рд╣реГрджрдпрд╡рд┐рдХрд╛рд░рд╛рдЪрд╛ рдЭрдЯрдХрд╛', 'рд╕реНрдЯреНрд░реЛрдХ', 'рдЕрдкрдШрд╛рдд', 'рд░рдХреНрдд',
    'рдмреЗрд╢реБрджреНрдз', 'рд╢реНрд╡рд╛рд╕', 'рдлрд┐рдЯ', 'рддреАрд╡реНрд░ рд╡реЗрджрдирд╛', 'рдЬрдЦрдо',
    'рдорд░рдд рдЖрд╣реЗ', 'рдореГрддреНрдпреВ', 'рд╡рд┐рд╖', 'рднрд╛рдЬрдгреЗ', 'рд╣рд╛рдб рдореЛрдбрд▓реЗ',
    'рдбреЛрдХреНрдпрд╛рд▓рд╛ рджреБрдЦрд╛рдкрдд', 'рдЖрддреНрдорд╣рддреНрдпрд╛', 'рд╣рд┐рдВрд╕рд╛'
  ],
  kannada: [
    'р▓др│Бр▓░р│Нр▓др│Б', 'р▓ир│Лр▓╡р│Б', 'р▓╣р│Гр▓жр▓пр▓╛р▓Шр▓╛р▓д', 'р▓кр▓╛р▓░р│Нр▓╢р│Нр▓╡р▓╡р▓╛р▓пр│Б', 'р▓Ер▓кр▓Шр▓╛р▓д', 'р▓░р▓Хр│Нр▓д',
    'р▓кр│Нр▓░р▓Ьр│Нр▓Юр│Ж р▓Хр▓│р│Жр▓жр│Бр▓Хр│Кр▓Вр▓бр▓┐р▓жр│Ж', 'р▓Йр▓╕р▓┐р▓░р│Б', 'р▓╕р│Жр▓│р│Жр▓д', 'р▓др│Ар▓╡р│Нр▓░ р▓ир│Лр▓╡р│Б', 'р▓Чр▓╛р▓п',
    'р▓╕р▓╛р▓пр│Бр▓др│Нр▓др▓┐р▓жр│Нр▓жр│Зр▓ир│Ж', 'р▓ор▓░р▓г', 'р▓╡р▓┐р▓╖', 'р▓╕р│Бр▓Яр│Нр▓Яр▓Чр▓╛р▓п', 'р▓ор│Вр▓│р│Ж р▓ор│Бр▓░р▓┐р▓жр▓┐р▓жр│Ж',
    'р▓др▓▓р│Жр▓Чр│Ж р▓Чр▓╛р▓п', 'р▓Жр▓др│Нр▓ор▓╣р▓др│Нр▓пр│Ж', 'р▓╣р▓┐р▓Вр▓╕р│Ж'
  ]
};

export const detectEmergency = (message) => {
  const lowerMessage = message.toLowerCase();

  // Check all language keywords
  for (const language in emergencyKeywords) {
    for (const keyword of emergencyKeywords[language]) {
      if (lowerMessage.includes(keyword.toLowerCase())) {
        return true;
      }
    }
  }

  return false;
};

export const getEmergencyResponse = (language = 'English') => {
  const responses = {
    English: "ЁЯЪи **EMERGENCY ALERT** ЁЯЪи\n\nThis sounds like an emergency! Please:\n\n1. **Call our Emergency Helpline immediately: +91-98765-43210**\n2. Or rush to our Emergency Department (24x7 open)\n3. For life-threatening situations, call Ambulance: 108\n\nI'm connecting you to a human agent now. Stay calm, help is on the way!",

    Hindi: "ЁЯЪи **рдЖрдкрд╛рддрдХрд╛рд▓реАрди рдЪреЗрддрд╛рд╡рдиреА** ЁЯЪи\n\nрдпрд╣ рдПрдХ рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╕реНрдерд┐рддрд┐ рд▓рдЧрддреА рд╣реИ! рдХреГрдкрдпрд╛:\n\n1. **рддреБрд░рдВрдд рд╣рдорд╛рд░реА рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╣реЗрд▓реНрдкрд▓рд╛рдЗрди рдкрд░ рдХреЙрд▓ рдХрд░реЗрдВ: +91-98765-43210**\n2. рдпрд╛ рд╣рдорд╛рд░реЗ рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╡рд┐рднрд╛рдЧ рдореЗрдВ рдкрд╣реБрдВрдЪреЗрдВ (24x7 рдЦреБрд▓рд╛)\n3. рдЬреАрд╡рди-рдШрд╛рддрдХ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдПрдореНрдмреБрд▓реЗрдВрд╕ рдХреЙрд▓ рдХрд░реЗрдВ: 108\n\nрдореИрдВ рдЖрдкрдХреЛ рдЕрднреА рдПрдХ рдорд╛рдирд╡ рдПрдЬреЗрдВрдЯ рд╕реЗ рдЬреЛрдбрд╝ рд░рд╣рд╛ рд╣реВрдВред рд╢рд╛рдВрдд рд░рд╣реЗрдВ, рдорджрдж рдЖ рд░рд╣реА рд╣реИ!",

    Tamil: "ЁЯЪи **роЕро╡роЪро░ роОроЪрпНроЪро░ро┐роХрпНроХрпИ** ЁЯЪи\n\nроЗродрпБ роЕро╡роЪро░роиро┐ро▓рпИ рокрпЛро▓рпН родрпЖро░ро┐роХро┐ро▒родрпБ! родропро╡рпБроЪрпЖропрпНродрпБ:\n\n1. **роЙроЯройроЯро┐ропро╛роХ роОроЩрпНроХро│рпН роЕро╡роЪро░ роЙродро╡ро┐ роОрогрпНрогрпИ роЕро┤рпИроХрпНроХро╡рпБроорпН: +91-98765-43210**\n2. роЕро▓рпНро▓родрпБ роОроЩрпНроХро│рпН роЕро╡роЪро░ роЪро┐роХро┐роЪрпНроЪрпИ рокро┐ро░ро┐ро╡рпБроХрпНроХрпБ ро╡ро╛ро░рпБроЩрпНроХро│рпН (24x7 родро┐ро▒роирпНродро┐ро░рпБроХрпНроХрпБроорпН)\n3. роЙропро┐ро░рпБроХрпНроХрпБ роЖрокродрпНродро╛рой роЪрпВро┤рпНроиро┐ро▓рпИроХро│рпБроХрпНроХрпБ, роЖроорпНрокрпБро▓ройрпНро╕рпН роЕро┤рпИроХрпНроХро╡рпБроорпН: 108\n\nроиро╛ройрпН роЙроЩрпНроХро│рпИ роЗрокрпНрокрпЛродрпБ роТро░рпБ рооройро┐род роорпБроХро╡ро░рпБроЯройрпН роЗрогрпИроХрпНроХро┐ро▒рпЗройрпН. роЕроорпИродро┐ропро╛роХ роЗро░рпБроЩрпНроХро│рпН, роЙродро╡ро┐ ро╡ро░рпБроХро┐ро▒родрпБ!",

    Telugu: "ЁЯЪи **р░Ер░др▒Нр░пр░╡р░╕р░░ р░╣р▒Жр░Ър▒Нр░Ър░░р░┐р░Х** ЁЯЪи\n\nр░Зр░жр░┐ р░Ер░др▒Нр░пр░╡р░╕р░░ р░кр░░р░┐р░╕р▒Нр░ер░┐р░др░┐ р░▓р░╛р░Чр░╛ р░Йр░Вр░жр░┐! р░жр░пр░Ър▒Зр░╕р░┐:\n\n1. **р░╡р▒Жр░Вр░Яр░ир▒З р░ор░╛ р░Ер░др▒Нр░пр░╡р░╕р░░ р░╣р▒Жр░▓р▒Нр░кр▒НтАМр░▓р▒Ир░ир▒НтАМр░Хр▒Б р░Хр░╛р░▓р▒Н р░Ър▒Зр░пр░Вр░бр░┐: +91-98765-43210**\n2. р░▓р▒Зр░жр░╛ р░ор░╛ р░Ер░др▒Нр░пр░╡р░╕р░░ р░╡р░┐р░нр░╛р░Чр░╛р░ир░┐р░Хр░┐ р░░р░Вр░бр░┐ (24x7 р░др▒Жр░░р░┐р░Ър░┐ р░Йр░Вр░Яр▒Бр░Вр░жр░┐)\n3. р░кр▒Нр░░р░╛р░гр░╛р░кр░╛р░п р░кр░░р░┐р░╕р▒Нр░ер░┐р░др▒Бр░▓ р░Хр▒Лр░╕р░В, р░Ер░Вр░мр▒Бр░▓р▒Жр░ир▒Нр░╕р▒НтАМр░Хр▒Б р░Хр░╛р░▓р▒Н р░Ър▒Зр░пр░Вр░бр░┐: 108\n\nр░ир▒Зр░ир▒Б р░ор░┐р░ор▒Нр░ор░▓р▒Нр░ир░┐ р░Зр░кр▒Нр░кр▒Бр░бр▒Б р░ор░╛р░ир░╡ р░Пр░Ьр▒Жр░Вр░Яр▒НтАМр░др▒Л р░Хр░ир▒Жр░Хр▒Нр░Яр▒Н р░Ър▒Зр░╕р▒Нр░др▒Бр░ир▒Нр░ир░╛р░ир▒Б. р░кр▒Нр░░р░╢р░╛р░Вр░др░Вр░Чр░╛ р░Йр░Вр░бр░Вр░бр░┐, р░╕р░╣р░╛р░пр░В р░╡р░╕р▒Нр░др▒Лр░Вр░жр░┐!",

    Bengali: "ЁЯЪи **ржЬрж░рзБрж░рж┐ рж╕рждрж░рзНржХрждрж╛** ЁЯЪи\n\nржПржЯрж┐ ржПржХржЯрж┐ ржЬрж░рзБрж░рж┐ ржЕржмрж╕рзНржерж╛ ржоржирзЗ рж╣ржЪрзНржЫрзЗ! ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ:\n\n1. **ржЕржмрж┐рж▓ржорзНржмрзЗ ржЖржорж╛ржжрзЗрж░ ржЬрж░рзБрж░рж┐ рж╣рзЗрж▓рзНржкрж▓рж╛ржЗржирзЗ ржХрж▓ ржХрж░рзБржи: +91-98765-43210**\n2. ржЕржержмрж╛ ржЖржорж╛ржжрзЗрж░ ржЬрж░рзБрж░рж┐ ржмрж┐ржнрж╛ржЧрзЗ ржЖрж╕рзБржи (24x7 ржЦрзЛрж▓рж╛)\n3. ржЬрзАржмржи-рж╣рзБржоржХрж┐рж░ ржкрж░рж┐рж╕рзНржерж┐рждрж┐рж░ ржЬржирзНржп, ржЕрзНржпрж╛ржорзНржмрзБрж▓рзЗржирзНрж╕ ржХрж▓ ржХрж░рзБржи: 108\n\nржЖржорж┐ ржПржЦржи ржЖржкржирж╛ржХрзЗ ржПржХржЬржи ржорж╛ржиржм ржПржЬрзЗржирзНржЯрзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржпрзБржХрзНржд ржХрж░ржЫрж┐ред рж╢рж╛ржирзНржд ржерж╛ржХрзБржи, рж╕рж╛рж╣рж╛ржпрзНржп ржЖрж╕ржЫрзЗ!",

    Marathi: "ЁЯЪи **рдЖрдкрддреНрдХрд╛рд▓реАрди рдЗрд╢рд╛рд░рд╛** ЁЯЪи\n\nрд╣реА рдПрдХ рдЖрдкрддреНрдХрд╛рд▓реАрди рдкрд░рд┐рд╕реНрдерд┐рддреА рджрд┐рд╕рддреЗ! рдХреГрдкрдпрд╛:\n\n1. **рддрд╛рдмрдбрддреЛрдм рдЖрдордЪреНрдпрд╛ рдЖрдкрддреНрдХрд╛рд▓реАрди рд╣реЗрд▓реНрдкрд▓рд╛рдЗрдирд╡рд░ рдХреЙрд▓ рдХрд░рд╛: +91-98765-43210**\n2. рдХрд┐рдВрд╡рд╛ рдЖрдордЪреНрдпрд╛ рдЖрдкрддреНрдХрд╛рд▓реАрди рд╡рд┐рднрд╛рдЧрд╛рдд рдпрд╛ (24x7 рдЙрдШрдбреЗ)\n3. рдЬреАрд╡рдШреЗрдгреНрдпрд╛ рдкрд░рд┐рд╕реНрдерд┐рддреАрдВрд╕рд╛рдареА, рд░реБрдЧреНрдгрд╡рд╛рд╣рд┐рдХрд╛ рдХреЙрд▓ рдХрд░рд╛: 108\n\nрдореА рддреБрдореНрд╣рд╛рд▓рд╛ рдЖрддрд╛ рдПрдХрд╛ рдорд╛рдирд╡реА рдПрдЬрдВрдЯрд╢реА рдЬреЛрдбрдд рдЖрд╣реЗ. рд╢рд╛рдВрдд рд░рд╛рд╣рд╛, рдорджрдд рдпреЗрдд рдЖрд╣реЗ!",

    Kannada: "ЁЯЪи **р▓др│Бр▓░р│Нр▓др│Б р▓Ор▓Ър│Нр▓Ър▓░р▓┐р▓Хр│Ж** ЁЯЪи\n\nр▓Зр▓жр│Б р▓др│Бр▓░р│Нр▓др│Б р▓кр▓░р▓┐р▓╕р│Нр▓ер▓┐р▓др▓┐р▓пр▓Вр▓др│Ж р▓др│Лр▓░р│Бр▓др│Нр▓др▓┐р▓жр│Ж! р▓жр▓пр▓╡р▓┐р▓Яр│Нр▓Яр│Б:\n\n1. **р▓др▓Хр│Нр▓╖р▓г р▓ир▓ор│Нр▓о р▓др│Бр▓░р│Нр▓др│Б р▓╕р▓╣р▓╛р▓пр▓╡р▓╛р▓гр▓┐р▓Чр│Ж р▓Хр▓░р│Ж р▓ор▓╛р▓бр▓┐: +91-98765-43210**\n2. р▓Ер▓ер▓╡р▓╛ р▓ир▓ор│Нр▓о р▓др│Бр▓░р│Нр▓др│Б р▓╡р▓┐р▓нр▓╛р▓Чр▓Хр│Нр▓Хр│Ж р▓мр▓ир│Нр▓ир▓┐ (24x7 р▓др│Жр▓░р│Жр▓жр▓┐р▓░р│Бр▓др│Нр▓др▓жр│Ж)\n3. р▓Ьр│Ар▓╡р▓Хр│Нр▓Хр│Ж р▓Ер▓кр▓╛р▓пр▓Хр▓╛р▓░р▓┐ р▓кр▓░р▓┐р▓╕р│Нр▓ер▓┐р▓др▓┐р▓Чр▓│р▓┐р▓Чр│Ж, р▓Жр▓Вр▓мр│Бр▓▓р│Жр▓ир│Нр▓╕р│Н р▓Хр▓░р│Ж р▓ор▓╛р▓бр▓┐: 108\n\nр▓ир▓╛р▓ир│Б р▓Ир▓Ч р▓ир▓┐р▓ор│Нр▓ор▓ир│Нр▓ир│Б р▓ор▓╛р▓ир▓╡ р▓Пр▓Ьр│Жр▓Вр▓Яр│НтАМр▓ир│Кр▓Вр▓жр▓┐р▓Чр│Ж р▓╕р▓Вр▓кр▓░р│Нр▓Хр▓┐р▓╕р│Бр▓др│Нр▓др▓┐р▓жр│Нр▓жр│Зр▓ир│Ж. р▓╢р▓╛р▓Вр▓др▓╡р▓╛р▓Чр▓┐р▓░р▓┐, р▓╕р▓╣р▓╛р▓п р▓мр▓░р│Бр▓др│Нр▓др▓┐р▓жр│Ж!"
  };

  return responses[language] || responses.English;
};
